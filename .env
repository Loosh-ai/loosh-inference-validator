# Loosh Inference Validator Configuration
# Copy this file to .env and update with your values

# =============================================================================
# Network Configuration
# =============================================================================
# NETUID=78
# SUBTENSOR_NETWORK=finney
# SUBTENSOR_ADDRESS=wss://entrypoint-finney.opentensor.ai:443

# Network Configuration - testnet
NETUID=78
SUBTENSOR_NETWORK=test
SUBTENSOR_ADDRESS=wss://test.finney.opentensor.ai:443

# =============================================================================
# Wallet Configuration
# =============================================================================
WALLET_NAME=loosh_validator_test2
HOTKEY_NAME=loosh_validator_test2_hk

# =============================================================================
# Miner Selection Parameters
# =============================================================================
MIN_MINERS=3
MAX_MINERS=5
MIN_STAKE_THRESHOLD=100

# =============================================================================
# Challenge Parameters (in seconds)
# =============================================================================
# Testnet: 10 seconds
# Mainnet: 300 seconds
CHALLENGE_INTERVAL_SECONDS=300
CHALLENGE_TIMEOUT_SECONDS=120
EVALUATION_TIMEOUT_SECONDS=300

# =============================================================================
# Scoring Parameters
# =============================================================================
SCORE_THRESHOLD=0.7

# =============================================================================
# Weights Update Interval
# =============================================================================
WEIGHTS_INTERVAL_SECONDS=1800

# =============================================================================
# Database Configuration
# =============================================================================
DB_PATH=validator.db
USERS_DB_PATH=users.db

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8020

# =============================================================================
# Challenge API Configuration
# =============================================================================
CHALLENGE_API_URL=http://localhost:8080
CHALLENGE_API_KEY=your-api-key-1
CHALLENGE_PUSH_API_KEY=your-api-key-1

# =============================================================================
# Evaluation Configuration
# =============================================================================
# Deprecated: now uses CHALLENGE_API_URL
HEATMAP_UPLOAD_URL=http://localhost:8080/heatmap/upload

# =============================================================================
# OpenAI Configuration (for evaluation)
# =============================================================================
OPENAI_API_URL=https://api.openai.com/v1/chat/completions
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# =============================================================================
# LLM Configuration (for default model settings)
# =============================================================================
DEFAULT_MODEL=mistralai/Mistral-7B-v0.1
DEFAULT_MAX_TOKENS=512
DEFAULT_TEMPERATURE=0.7
DEFAULT_TOP_P=0.95

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=

# =============================================================================
# Test Mode
# =============================================================================
# Enable test mode - picks first response without evaluation or heatmap generation
TEST_MODE=false
ENABLE_NARRATIVE_GENERATION=false

# =============================================================================
# Challenge Mode Configuration
# =============================================================================
# Challenge retrieval mode: 'push' uses queue from POST /challenges, 'pull' uses GET /challenge
CHALLENGE_MODE=push

# =============================================================================
# Concurrency Configuration
# =============================================================================
# Maximum number of challenges to process concurrently
MAX_CONCURRENT_CHALLENGES=10